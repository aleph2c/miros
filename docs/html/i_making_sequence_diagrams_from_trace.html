







<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>&lt;no title&gt; | miros</title>
    <link rel="shortcut icon" href="_static/favicon.ico">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css">
    <link rel="stylesheet" href="_static/theme.css" type="text/css">
    
      
    <link rel="stylesheet" type="text/css" href="_static/css/miros_docs.css" />
      
    
    

    
    <script type="text/javascript" src="_static/theme.js" defer></script>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    
    <script src="_static/jquery.js"></script>
    
    <script src="_static/underscore.js"></script>
    
    <script src="_static/doctools.js"></script>
    
    <script src="_static/language_data.js"></script>
    
    

    
      
      
    <link rel="index" title="Index" href="genindex.html">
      
      
    <link rel="search" title="Search" href="search.html">
      
      
      
      
    

    

    

    
  </head>

  <body>
    <header class="main-header">
      <div class="navbar">
        <div id="js-sidebar-mask" class="sidebar-mask"></div>
        <div id="js-sidebar-menu-button" class="sidebar-menu-button">
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg>
        </div>
        <a href="index.html" class="site-link">
          
          miros
          
        </a>
        <div class="navbar-links">
          <a href="installation.html" class="navbar-link">Docs</a>
          
          <a href="https://github.com/aleph2c/miros" class="navbar-link">GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
          
        </div>
      </div>
    </header>

    <main class="main-wrapper">
      
      <div id="js-main-sidebar" class="main-sidebar">
        
        <div class="sidebar-content sidebar-content--divider sidebar-navbar-links">
          <a href="https://github.com/aleph2c/miros" class="sidebar-navbar-link">GitHub</a>
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
        </div>
        
        
        <div class="sidebar-content sidebar-logo">
    <a href="index.html">
      <img class="logo" src="_static/miros_logo.svg" alt="miros" >
    </a>
</div>
        
        

<h2 class="sidebar-heading">Contents</h2>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="zero_to_one.html">Tutorial: Zero To One</a></li>
<li class="toctree-l1"><a class="reference internal" href="reading_diagrams.html">Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="reflection.html">Reflection</a></li>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
</ul>

        
        
<h2 class="sidebar-heading">Useful Links</h2>

<ul>
  <li><a href="https://github.com/aleph2c/py-activeobject">miros on github</a></li>
  <li><a href="https://github.com/aleph2c/sequence">sequence on github</a></li>
  <li><a href="https://aleph2c.github.io/miros-rabbitmq/index.html">miros-rabbitmq plugin</a></li>
  <li><a href="http://www.umlet.com">UMLet Download</a></li>
  <li><a href="http://www.inf.ed.ac.uk/teaching/courses/seoc/2005_2006/resources/statecharts.pdf">formalism explained</a></li>
</ul>


<h2 class="sidebar-heading">For Embedded</h2>

<ul>
  <li><a href="https://state-machine.com/">Quantum Leaps for Embedded</a></li>
  <li><a href="https://github.com/QuantumLeaps/">Quantum Leaps On Github</a></li>
</ul>


<h2 class="sidebar-heading">Statechart Videos</h2>

<ul>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-what-are-they-1-of-4-90488.html">Part 1 (What)</a></li>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-why-use-them-2-of-4-90489.html">Part 2 (Why)</a></li>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-what-are-they-1-of-4-90488.html">Part 3 (Mealy/Moore)</a></li>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-harel-state-machines-4-of-4-90491.html">Part 4 (Harel Statecharts)</a></li>
  <li><a href="https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines">Introduction to HSMs</a></li>
</ul>
        
        

<div id="searchbox" style="display: none" role="search">
  <h2 id="searchlabel" class="sidebar-heading">Quick search</h2>
  <div class="searchformwrapper sidebar-content">
    <form class="search" action="search.html" method="get">
      <input class="sidebar-search sidebar-search--input" type="text" name="q" aria-labelledby="searchlabel"><input class="sidebar-search sidebar-search--btn" type="submit" value="Go">
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

        
      </div>
      

      
      <div class="main-content main-content--sidebar">
      
        
          
  <p>To create effective, yet inexpensive documentation, you can <a class="reference internal" href="reflection.html#reflection-a-high-level-description-of-the-behavior"><span class="std std-ref">first obtain
a trace of your system</span></a>,
then use it to generate a sequence diagram, with <a class="reference external" href="https://github.com/aleph2c/sequence">sequence</a>.</p>
<p>Without a lot of effort, you can configure your text editor to write these
pictures for you.  When I select this in my editor:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:28.268873<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;start_at<span class="o">()</span> top-&gt;arming
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> arming-&gt;armed
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> armed-&gt;armed
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> armed-&gt;armed
</pre></div>
</div>
<p>Then press &lt;ctrl-T&gt;, it becomes this:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span> Chart: 75c8c <span class="o">]</span> <span class="o">(</span>?<span class="o">)</span>
     top        arming        armed
      +-tart_at<span class="o">()</span>-&gt;<span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>    <span class="o">(</span>?<span class="o">)</span>     <span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>            +---BC<span class="o">()</span>----&gt;<span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>    <span class="o">(</span>?<span class="o">)</span>     <span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>            +
      <span class="p">|</span>            <span class="p">|</span>             <span class="se">\ </span><span class="o">(</span>?<span class="o">)</span>
      <span class="p">|</span>            <span class="p">|</span>             BC<span class="o">()</span>
      <span class="p">|</span>            <span class="p">|</span>             /
      <span class="p">|</span>            <span class="p">|</span>            &lt;
</pre></div>
</div>
<p>Then I would manually replace the question marks with numbers, so that
I could explained each event by referencing its number.  Since my diagram is in
ASCII, I could place it in my code comments.</p>
<p><a class="reference external" href="https://github.com/aleph2c/sequence">sequence</a> also works with interleaving trace outputs that would come from two
different interacting active objects:</p>
<p>Suppose you got this from your terminal while testing two different
statecharts:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:28.268873<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;start_at<span class="o">()</span> top-&gt;arming
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:28.268873<span class="o">]</span> <span class="o">[</span>95a8c<span class="o">]</span> e-&gt;start_at<span class="o">()</span> top-&gt;arming
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> arming-&gt;armed
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>95a8c<span class="o">]</span> e-&gt;OTHER<span class="o">()</span> arming-&gt;armed
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> armed-&gt;armed
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>75c8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> armed-&gt;armed
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>95a8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> armed-&gt;armed
<span class="o">[</span><span class="m">2017</span>-11-06 <span class="m">08</span>:34:26.312241<span class="o">]</span> <span class="o">[</span>95a8c<span class="o">]</span> e-&gt;BC<span class="o">()</span> armed-&gt;armed
</pre></div>
</div>
<p>By running it through <a class="reference external" href="https://github.com/aleph2c/sequence">sequence</a> we would see:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span> Chart: 75c8c <span class="o">]</span> <span class="o">(</span>?<span class="o">)</span>
     top        arming        armed
      +-tart_at<span class="o">()</span>-&gt;<span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>    <span class="o">(</span>?<span class="o">)</span>     <span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>            +---BC<span class="o">()</span>----&gt;<span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>    <span class="o">(</span>?<span class="o">)</span>     <span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>            +
      <span class="p">|</span>            <span class="p">|</span>             <span class="se">\ </span><span class="o">(</span>?<span class="o">)</span>
      <span class="p">|</span>            <span class="p">|</span>             BC<span class="o">()</span>
      <span class="p">|</span>            <span class="p">|</span>             /
      <span class="p">|</span>            <span class="p">|</span>            &lt;

<span class="o">[</span> Chart: 95a8c <span class="o">]</span> <span class="o">(</span>?<span class="o">)</span>
     top        arming        armed
      +-tart_at<span class="o">()</span>-&gt;<span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>    <span class="o">(</span>?<span class="o">)</span>     <span class="p">|</span>            <span class="p">|</span>
<span class="hll">      <span class="p">|</span>            +--OTHER<span class="o">()</span>--&gt;<span class="p">|</span>
</span>      <span class="p">|</span>            <span class="p">|</span>    <span class="o">(</span>?<span class="o">)</span>     <span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>            +
      <span class="p">|</span>            <span class="p">|</span>             <span class="se">\ </span><span class="o">(</span>?<span class="o">)</span>
      <span class="p">|</span>            <span class="p">|</span>             BC<span class="o">()</span>
      <span class="p">|</span>            <span class="p">|</span>             /
      <span class="p">|</span>            <span class="p">|</span>            &lt;
</pre></div>
</div>
<p>Now I’ll write some fake documentation to make a point, notice how I update the
numbers in the diagram:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">[</span> Chart: Unit <span class="m">1</span> <span class="o">]</span>
     top        arming        armed
      +start_at<span class="o">()</span>-&gt;<span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>    <span class="o">(</span><span class="m">1</span><span class="o">)</span>     <span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>            +---BC<span class="o">()</span>----&gt;<span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>    <span class="o">(</span><span class="m">3</span><span class="o">)</span>     <span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>            +
      <span class="p">|</span>            <span class="p">|</span>             <span class="se">\ </span><span class="o">(</span><span class="m">5</span><span class="o">)</span>
      <span class="p">|</span>            <span class="p">|</span>             BC<span class="o">()</span>
      <span class="p">|</span>            <span class="p">|</span>             /
      <span class="p">|</span>            <span class="p">|</span>            &lt;

<span class="o">[</span> Chart: Unit <span class="m">2</span> <span class="o">]</span>
     top        arming        armed
      +start_at<span class="o">()</span>-&gt;<span class="p">|</span>            <span class="p">|</span>
      <span class="p">|</span>    <span class="o">(</span><span class="m">2</span><span class="o">)</span>     <span class="p">|</span>            <span class="p">|</span>
<span class="hll">      <span class="p">|</span>            +--OTHER<span class="o">()</span>--&gt;<span class="p">|</span>
</span>      <span class="p">|</span>            <span class="p">|</span>    <span class="o">(</span><span class="m">4</span><span class="o">)</span>     <span class="p">|</span>
      <span class="p">|</span>            <span class="p">|</span>            +
      <span class="p">|</span>            <span class="p">|</span>             <span class="se">\ </span><span class="o">(</span><span class="m">6</span><span class="o">)</span>
      <span class="p">|</span>            <span class="p">|</span>             BC<span class="o">()</span>
      <span class="p">|</span>            <span class="p">|</span>             /
      <span class="p">|</span>            <span class="p">|</span>            &lt;
</pre></div>
</div>
<p>You can gang two tazors together to act as one tazor.  The first arming event
in your tazor network will also arm all of the other tazors, consider the
diagram above to see this interaction.</p>
<ol class="arabic simple">
<li><p>Tazor labeled ‘Unit 1’ turns on in the <cite>arming</cite> state.</p></li>
<li><p>Tazor labeled ‘Unit 2’ turns on in the <cite>arming</cite> state.</p></li>
<li><p>Unit 1 begins a battery charge (BC) which will send a broadcast message to
all other tazors in the network.</p></li>
<li><p>Unit 2 detects another tazor is beginning a battery charge, so it too begins
its battery charge (OTHER)</p></li>
</ol>
<p>…. and so on</p>
<p>If I changed the above design, it would be simple to adjust these diagrams and
their description.  Sequence diagrams are great for explaining small things,
but they do break the <a class="reference external" href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a> principle.  You are effectively replicating your
data by having these descriptions in your documentation.  The source <cite>image</cite> is
your state chart diagram.  Give it a lot of attention, since it is actually
your specification.  The sequence diagrams are little throw away things, that
can be used to assist in telling a very specific story about how your system
behaves.</p>
<p>I’m probably not following the UML standard and I don’t care.  The utility of
the sequence diagram picture is in its simplicity.</p>
<p>I know that you can represent loops and object destructor’s using these
diagrams, but why bother?  It is easier to write a loop in the code than it is
in a picture, so why not copy and paste the code onto the sequence diagram if
you need to explain a loop?</p>
<p>If you would like to create sequence diagrams that are UML compliant, the
<a href="#id1"><span class="problematic" id="id2">`umlet`_</span></a> program supports these features.</p>


        
        <div class="main-content__right-sidebar">
          <h2 class="sidebar-heading">On this page:</h2>
        </div>
      </div>
    </main>

    <div class="footer-wrapper">
      
      <footer class="main-footer main-footer--sidebar">
      
        <div class="relational-links">
          <div>
            
          </div>
          <div>
            
          </div>
        </div>
        
        <div class="copyright">
          © Copyright <span class="js-year"></span>,
          
          <a href="https://github.com/aleph2c" class="copyright_link">Scott Volk</a>.
          
        </div>
        
        
        <div class="last-updated">
          <span class="prefix">Last updated:</span>
          <span class="time">Jul 02, 2020 12:46 PM</span>
        </div>
        
        
        <div class="created-with">
          Created using <a href="http://sphinx-doc.org/" class="copyright_link">Sphinx</a> 3.1.1 with <span class="theme">13ds_theme_one</span>.
        </div>
        
      </footer>
    </div>
  </body>
</html>