







<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Events | miros</title>
    <link rel="shortcut icon" href="_static/favicon.ico">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css">
    <link rel="stylesheet" href="_static/theme.css" type="text/css">
    
      
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      
    
      
    <link rel="stylesheet" type="text/css" href="_static/theme.css" />
      
    
      
    <link rel="stylesheet" type="text/css" href="_static/css/miros_docs.css" />
      
    
    

    
    <script type="text/javascript" src="_static/theme.js" defer></script>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    
    <script src="_static/jquery.js"></script>
    
    <script src="_static/underscore.js"></script>
    
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    
    <script src="_static/doctools.js"></script>
    
    

    
      
      
    <link rel="index" title="Index" href="genindex.html">
      
      
    <link rel="search" title="Search" href="search.html">
      
      
      
    <link rel="next" title="Active Object" href="activeobject.html">
      
      
    <link rel="prev" title="Hsm" href="hsm.html">
      
    

    

    

    
  </head>

  <body>
    <header class="main-header">
      <div class="navbar">
        <div id="js-sidebar-mask" class="sidebar-mask"></div>
        <div id="js-sidebar-menu-button" class="sidebar-menu-button">
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg>
        </div>
        <a href="index.html" class="site-link">
          
          miros
          
        </a>
        <div class="navbar-links">
          <a href="installation.html" class="navbar-link">Docs</a>
          
          <a href="https://github.com/aleph2c/miros" class="navbar-link">GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
          
        </div>
      </div>
    </header>

    <main class="main-wrapper">
      
      <div id="js-main-sidebar" class="main-sidebar">
        
        <div class="sidebar-content sidebar-content--divider sidebar-navbar-links">
          <a href="https://github.com/aleph2c/miros" class="sidebar-navbar-link">GitHub</a>
          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
        </div>
        
        
        <div class="sidebar-content sidebar-logo">
    <a href="index.html">
      <img class="logo" src="_static/miros_logo.svg" alt="miros" >
    </a>
</div>
        
        

<h2 class="sidebar-heading">Contents</h2>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="zero_to_one.html">Tutorial: Zero to One</a></li>
<li class="toctree-l1"><a class="reference internal" href="reading_diagrams.html">Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes.html">Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="reflection.html">Reflection</a></li>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="architecture.html">Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hsm.html">Hsm</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Events</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#event-module">Event Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#returnstatussource">ReturnStatusSource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#signalsource">SignalSource</a></li>
<li class="toctree-l3"><a class="reference internal" href="#signal">Signal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#event">Event</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="activeobject.html">Active Object</a></li>
</ul>
</li>
</ul>

        
        
<h2 class="sidebar-heading">Useful Links</h2>

<ul>
  <li><a href="https://github.com/aleph2c/py-activeobject">miros on github</a></li>
  <li><a href="https://github.com/aleph2c/sequence">sequence on github</a></li>
  <li><a href="https://aleph2c.github.io/miros-rabbitmq/html/index.html">miros-rabbitmq plugin</a></li>
  <li><a href="http://www.umlet.com">UMLet Download</a></li>
  <li><a href="http://www.inf.ed.ac.uk/teaching/courses/seoc/2005_2006/resources/statecharts.pdf">formalism explained</a></li>
</ul>


<h2 class="sidebar-heading">For Embedded</h2>

<ul>
  <li><a href="https://state-machine.com/">Quantum Leaps for Embedded</a></li>
  <li><a href="https://github.com/QuantumLeaps/">Quantum Leaps On Github</a></li>
</ul>


<h2 class="sidebar-heading">Statechart Videos</h2>

<ul>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-what-are-they-1-of-4-90488.html">Part 1 (What)</a></li>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-why-use-them-2-of-4-90489.html">Part 2 (Why)</a></li>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-what-are-they-1-of-4-90488.html">Part 3 (Mealy/Moore)</a></li>
  <li><a href="https://www.mathworks.com/videos/understanding-state-machines-harel-state-machines-4-of-4-90491.html">Part 4 (Harel Statecharts)</a></li>
  <li><a href="https://barrgroup.com/Embedded-Systems/How-To/Introduction-Hierarchical-State-Machines">Introduction to HSMs</a></li>
</ul>
        
        

<div id="searchbox" style="display: none" role="search">
  <h2 id="searchlabel" class="sidebar-heading">Quick search</h2>
  <div class="searchformwrapper sidebar-content">
    <form class="search" action="search.html" method="get">
      <input class="sidebar-search sidebar-search--input" type="text" name="q" aria-labelledby="searchlabel"><input class="sidebar-search sidebar-search--btn" type="submit" value="Go">
    </form>
  </div>
</div>
<script>$('#searchbox').show(0);</script>

        
      </div>
      

      
      <div class="main-content main-content--sidebar">
      
        
          
  <section id="module-miros.event">
<span id="events"></span><h1>Events<a class="headerlink" href="#module-miros.event" title="Permalink to this heading">#</a></h1>
<section id="event-module">
<h2>Event Module<a class="headerlink" href="#event-module" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="miros.event.OrderedDictWithParams">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miros.event.</span></span><span class="sig-name descname"><span class="pre">OrderedDictWithParams</span></span><a class="headerlink" href="#miros.event.OrderedDictWithParams" title="Permalink to this definition">#</a></dt>
<dd><dl>
<dt>If your subclass &lt;name_of_subclass&gt; has the following init:</dt><dd><p>def __init__(self,*args,**kwargs):</p>
<blockquote>
<div><p>self[‘RET_SUPER’]     = 1
self[‘RET_SUPER_SUB’] = 2
self[‘UNHANDLED’]     = 3</p>
</div></blockquote>
<dl class="simple">
<dt>Any object constructed from it will have to following attributes:</dt><dd><p>obj = &lt;name_of_subclass&gt;
obj.RET_SUPER     =&gt; 1
obj.RET_SUPER_SUB =&gt; 2
obj.UNHANDLED     =&gt; 3</p>
</dd>
<dt>To post-pend an item to the object which will also have a named parameter:</dt><dd><p>obj = &lt;name_of_subclass&gt;
obj.append(“NEW_NAMED_ATTRIBUTE”)
ob.NEW_NAMED_ATTRIBUTE =&gt; 4</p>
</dd>
</dl>
</dd>
</dl>
<p>This of this class as being an extensible ENUM which isn’t immutable.  All of
the enums are wrapped up within an OrderedDict, so you get all of it’s methods
as well as the clean interface to the attribute.</p>
</dd></dl>

</section>
<section id="returnstatussource">
<h2>ReturnStatusSource<a class="headerlink" href="#returnstatussource" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="miros.event.ReturnStatusSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miros.event.</span></span><span class="sig-name descname"><span class="pre">ReturnStatusSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#miros.event.ReturnStatusSource" title="Permalink to this definition">#</a></dt>
<dd><p>A class which contains all of the state returns codes</p>
<dl class="simple">
<dt>To construct the object</dt><dd><p>state_returns = ReturnCodes()</p>
</dd>
<dt>To get the number:</dt><dd><p>state_returns.RET_SUPER =&gt; 1</p>
</dd>
<dt>To add a return code:</dt><dd><p>state_returns.append(‘RET_ZZ’)
state_returns.RET_ZZ =&gt; 12</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="signalsource">
<h2>SignalSource<a class="headerlink" href="#signalsource" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="miros.event.SignalSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miros.event.</span></span><span class="sig-name descname"><span class="pre">SignalSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#miros.event.SignalSource" title="Permalink to this definition">#</a></dt>
<dd><p>A class which contains all of the state signal types</p>
<dl class="simple">
<dt>To get the basic system signals:</dt><dd><p>signals = Signal()</p>
</dd>
<dt>To append a new signal</dt><dd><p>signals = Signal.append(‘OVEN_OFF’)</p>
</dd>
<dt>To get the number:</dt><dd><p>signal.ENTRY_SIGNAL =&gt; 1
signal[‘OVEN_OFF’]  =&gt; 12
signal.OVER_OFF     =&gt; 12</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="miros.event.SignalSource.name_for_signal">
<span class="sig-name descname"><span class="pre">name_for_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#miros.event.SignalSource.name_for_signal" title="Permalink to this definition">#</a></dt>
<dd><p>get the name of a signal number as a string</p>
</dd></dl>

</dd></dl>

</section>
<section id="signal">
<h2>Signal<a class="headerlink" href="#signal" title="Permalink to this heading">#</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="miros.event.Signal">
<span class="sig-prename descclassname"><span class="pre">miros.event.</span></span><span class="sig-name descname"><span class="pre">Signal</span></span><a class="headerlink" href="#miros.event.Signal" title="Permalink to this definition">#</a></dt>
<dd><p>alias of &lt;miros.singleton.SingletonDecorator object&gt;</p>
</dd></dl>

</section>
<section id="event">
<h2>Event<a class="headerlink" href="#event" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="miros.event.Event">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">miros.event.</span></span><span class="sig-name descname"><span class="pre">Event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#miros.event.Event" title="Permalink to this definition">#</a></dt>
<dd><p>An event should be constructed, used, then garbage collected.  An event is a
temporary thing.  However if an event uses a signal that hasn’t been seen
before, that signal will be added to the list of global signals as a new
enumerated value.</p>
<dl class="simple">
<dt># Make an event (this should happen internally):</dt><dd><p>e = Event(signal=signals.ENTRY_SIGNAL) # existing signal
assert(e.signal == signals.ENTRY_SIGNAL)
assert(e.signal_name == ‘ENTRY_SIGNAL’)</p>
</dd>
<dt># Make an event, which will construct a signal internally:</dt><dd><p>e = Event(signal =’OVEN_OFF’, payload=’any object can go here’) # new signal
assert(e.signal == 5) # if it is the first unseen signal in the system
assert(e.signal_name == ‘OVEN_OFF’)
assert(signals.OVER_OFF == 5)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="miros.event.Event.dumps">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dumps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#miros.event.Event.dumps" title="Permalink to this definition">#</a></dt>
<dd><p>Required for serialization prior to sending an event across an IO
stream/networks.</p>
<p>Due to the dynamic nature of the Event/signals object, an event object can
not just be pickled.  Instead the object must be passed through this ‘Event.dumps’
function, then de-serialized using the ‘Event.loads’ function.</p>
<p>The numbering parity of the signal is not guaranteed across a network, but,
the signal name will be unique within all of the signals objects expressed on each
machine.  This is because signals are constructed dynamically.  So if one
machine defines the signal ‘A’ before ‘B’ and another just defines ‘B’.  The
internal signals numbers for ‘B’ will not be the same for each machine.
This doesn’t matter, since it is the signal name ‘B’ that distinguishes the
signal within a statechart and each machine will have the ‘B’ signal defined
once.</p>
<p>This ‘dumps’ method pulls out the signal name and payload, creates a
dictionary from them then turns it into a json object.   The signal number
is ignored during the process.</p>
<dl class="simple">
<dt>Example:</dt><dd><p>json_event = Event.dumps(Event(signal=signals.Mary))</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miros.event.Event.has_payload">
<span class="sig-name descname"><span class="pre">has_payload</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#miros.event.Event.has_payload" title="Permalink to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Example:</dt><dd><p>event = Event(signal=signals.Mary, payload=[1,2,3])
event.has_payload() # =&gt; True</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="miros.event.Event.loads">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_event</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#miros.event.Event.loads" title="Permalink to this definition">#</a></dt>
<dd><p>De-serializes a serialized Event object.  An event object can not be
serialized using pickle due to it’s dynamic nature.  For this reason the
‘Event.dumps’ method provides custom serialization for events.  This ‘loads’
method is for deserializing a serialized event object.  See the example for
clarity.</p>
<dl class="simple">
<dt>Example:</dt><dd><p>json_event = Event.dumps(Event(signal=signals.Mary))
event = Event.loads(json_event)
print(event) # =&gt; Mary::&lt;&gt;</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


        
        <div class="main-content__right-sidebar">
          <h2 class="sidebar-heading">On this page:</h2>
        </div>
      </div>
    </main>

    <div class="footer-wrapper">
      
      <footer class="main-footer main-footer--sidebar">
      
        <div class="relational-links">
          <div>
            
            ← <a class="relational-link" href="hsm.html" title="previous chapter">Hsm</a>
            
          </div>
          <div>
            
             <a class="relational-link" href="activeobject.html" title="next chapter">Active Object</a> →
            
          </div>
        </div>
        
        <div class="copyright">
          © Copyright <span class="js-year"></span>,
          
          <a href="https://github.com/aleph2c" class="copyright_link">Scott Volk</a>.
          
        </div>
        
        
        <div class="last-updated">
          <span class="prefix">Last updated:</span>
          <span class="time">May 26, 2024 6:24 PM</span>
        </div>
        
        
        <div class="created-with">
          Created using <a href="http://sphinx-doc.org/" class="copyright_link">Sphinx</a> 5.1.1 with <span class="theme">13ds_theme_one</span>.
        </div>
        
      </footer>
    </div>
  </body>
</html>